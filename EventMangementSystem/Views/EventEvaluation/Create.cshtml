@model EventMangementSystem.Models.EventEvaluation

@{
    ViewBag.Title = "Event Evaluation";
}

<h2 class="text-center mb-4">Event Evaluation</h2>

@using (Html.BeginForm("Create", "EventEvaluation", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    @Html.HiddenFor(model => model.EventId)

    <div class="form-group">
        @Html.LabelFor(model => model.AttendeeName)
        @Html.EditorFor(model => model.AttendeeName, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(model => model.AttendeeName, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Feedback)
        @Html.TextAreaFor(model => model.Feedback, new { htmlAttributes = new { @class = "form-control", rows = 5 } })
        @Html.ValidationMessageFor(model => model.Feedback, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Rating)
        <div>
            <input type="hidden" name="Rating" id="Rating" value="0" />
            <div id="star-rating"></div>
        </div>
        @Html.ValidationMessageFor(model => model.Rating, "", new { @class = "text-danger" })
    </div>

    <button type="submit" class="btn btn-primary">Submit Feedback</button>
}

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css" rel="stylesheet">

    <script>
        $(document).ready(function () {
            $("#star-rating").rateYo({
                rating: 0,
                fullStar: true,
                starWidth: "25px",
                onSet: function (rating, rateYoInstance) {
                    $("#Rating").val(rating);
                }
            });
        });
    </script>
}

<style>
    .form-group {
        margin-bottom: 1.5rem;
    }

    .text-center {
        text-align: center;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .text-danger {
        color: #dc3545;
    }

    .rateyo {
        display: flex;
        justify-content: center;
    }
</style>
