@model EventMangementSystem.Models.Event
@{
    ViewBag.Title = "Event Details";
}

<div class="event-details-container" style="width:fit-content">
    <div class="event-header">
        <h2>@Model.Name</h2>
        <hr />
    </div>
    <div class="event-info">
        <dl class="dl-horizontal">
            <dt>Date</dt>
            <dd>@Model.Date.ToString("MM/dd/yyyy")</dd>

            <dt>Location</dt>
            <dd>@Model.Location</dd>

            <dt>Description</dt>
            <dd>@Model.Description</dd>

            <dt>Venue</dt>
            <dd>@Model.Venue.Name</dd>

            <dt>Venue Address</dt>
            <dd>@Model.Venue.Address</dd>
        </dl>
    </div>

    @if (User.IsInRole("EventManager"))
    {
        <div class="event-inventory">
            <h4>Event Inventory</h4>
            <ul>
                @foreach (var item in Model.EventInventories)
                {
                    <li>@item.Inventory.ItemName (Quantity: @item.QuantityRequired)</li>
                }
            </ul>
        </div>
    }




<div class="event-actions">
    @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-secondary" })

    @if (!User.IsInRole("Admin") && !User.IsInRole("EventManager"))
    {
        @Html.ActionLink("Purchase Tickets", "Purchase", new { id = Model.EventId }, new { @class = "btn btn-primary" })

        @Html.ActionLink("Donate", "Create", "Donations", new { id = Model.EventId }, new { @class = "btn btn-primary" })
        if (Model.status == "Started")
        {
            @Html.ActionLink("Submit Feedback", "Create", "EventEvaluation", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })

        }
        @Html.ActionLink("View Announcements", "Index", "Announcement", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })

    }

    @if (User.IsInRole("EventManager"))
    {
        @Html.ActionLink("View Feedback", "Index", "EventEvaluation", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })
        @Html.ActionLink("Make Announcements", "Create", "Announcement", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })
        @Html.ActionLink("View Announcements", "Index", "Announcement", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })
        @Html.ActionLink("Set Reminder", "Create", "EventReminder", new { eventId = Model.EventId }, new { @class = "btn btn-primary" })
        @Html.ActionLink("Analysis", "Analytics", "Event", new { id = Model.EventId }, new { @class = "btn btn-primary" })

        if (Model.status != "Started" && !Model.Canceled)
        {
            @Html.ActionLink("Cancel Event", "Cancel", "Event", new { id = Model.EventId }, new { @class = "btn btn-danger" })
        }

    }
</div>
</div>

    <style>
        .event-details-container {
            background: #f9f9f9;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 2rem auto;
            max-width: 800px;
        }

        .event-header h2 {
            font-family: 'Georgia', serif;
            color: #e74c3c;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .event-info {
            background: #fff;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

            .event-info dl {
                margin: 0;
            }

            .event-info dt {
                font-weight: bold;
                color: #555;
            }

            .event-info dd {
                margin: 0 0 1rem 0;
                color: #333;
            }

        .event-inventory {
            margin-bottom: 2rem;
        }

            .event-inventory h4 {
                font-size: 1.5rem;
                margin-bottom: 1rem;
                color: #333;
            }

            .event-inventory ul {
                list-style: none;
                padding: 0;
            }

                .event-inventory ul li {
                    background: #fff;
                    padding: 0.75rem 1.25rem;
                    margin-bottom: 0.5rem;
                    border-radius: 4px;
                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                }

        .event-actions {
            text-align: center;
        }

            .event-actions .btn {
                margin: 0.25rem;
            }

        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            color: #fff;
        }

            .btn-primary:hover {
                background-color: #0056b3;
                border-color: #004085;
            }

        .btn-secondary {
            background-color: #6c757d;
            border-color: #6c757d;
            color: #fff;
        }

            .btn-secondary:hover {
                background-color: #5a6268;
                border-color: #545b62;
            }
    </style>

